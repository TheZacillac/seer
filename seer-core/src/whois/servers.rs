use once_cell::sync::Lazy;
use std::collections::HashMap;

pub static WHOIS_SERVERS: Lazy<HashMap<&'static str, &'static str>> = Lazy::new(|| {
    let mut m = HashMap::new();

    // Generic TLDs
    m.insert("com", "whois.verisign-grs.com");
    m.insert("net", "whois.verisign-grs.com");
    m.insert("org", "whois.pir.org");
    m.insert("info", "whois.afilias.net");
    m.insert("biz", "whois.biz");
    m.insert("name", "whois.nic.name");
    m.insert("mobi", "whois.afilias.net");
    m.insert("pro", "whois.registrypro.pro");
    m.insert("aero", "whois.aero");
    m.insert("asia", "whois.nic.asia");
    m.insert("cat", "whois.nic.cat");
    m.insert("coop", "whois.nic.coop");
    m.insert("edu", "whois.educause.edu");
    m.insert("gov", "whois.dotgov.gov");
    m.insert("int", "whois.iana.org");
    m.insert("jobs", "whois.nic.jobs");
    m.insert("mil", "whois.nic.mil");
    m.insert("museum", "whois.museum");
    m.insert("tel", "whois.nic.tel");
    m.insert("travel", "whois.nic.travel");
    m.insert("xxx", "whois.nic.xxx");

    // New gTLDs (sample)
    m.insert("app", "whois.nic.google");
    m.insert("dev", "whois.nic.google");
    m.insert("page", "whois.nic.google");
    m.insert("blog", "whois.nic.blog");
    m.insert("cloud", "whois.nic.cloud");
    m.insert("io", "whois.nic.io");
    m.insert("co", "whois.nic.co");
    m.insert("me", "whois.nic.me");
    m.insert("tv", "whois.nic.tv");
    m.insert("cc", "ccwhois.verisign-grs.com");
    m.insert("xyz", "whois.nic.xyz");
    m.insert("online", "whois.nic.online");
    m.insert("site", "whois.nic.site");
    m.insert("tech", "whois.nic.tech");
    m.insert("store", "whois.nic.store");
    m.insert("shop", "whois.nic.shop");

    // Country code TLDs
    m.insert("ac", "whois.nic.ac");
    m.insert("ad", "whois.nic.ad");
    m.insert("ae", "whois.aeda.net.ae");
    m.insert("af", "whois.nic.af");
    m.insert("ag", "whois.nic.ag");
    m.insert("ai", "whois.nic.ai");
    m.insert("al", "whois.ripe.net");
    m.insert("am", "whois.amnic.net");
    m.insert("ao", "whois.nic.ao");
    m.insert("ar", "whois.nic.ar");
    m.insert("as", "whois.nic.as");
    m.insert("at", "whois.nic.at");
    m.insert("au", "whois.auda.org.au");
    m.insert("aw", "whois.nic.aw");
    m.insert("ax", "whois.ax");
    m.insert("az", "whois.nic.az");
    m.insert("ba", "whois.nic.ba");
    m.insert("bb", "whois.nic.bb");
    m.insert("be", "whois.dns.be");
    m.insert("bf", "whois.nic.bf");
    m.insert("bg", "whois.register.bg");
    m.insert("bh", "whois.nic.bh");
    m.insert("bi", "whois.nic.bi");
    m.insert("bj", "whois.nic.bj");
    m.insert("bn", "whois.nic.bn");
    m.insert("bo", "whois.nic.bo");
    m.insert("br", "whois.registro.br");
    m.insert("bt", "whois.nic.bt");
    m.insert("bw", "whois.nic.net.bw");
    m.insert("by", "whois.cctld.by");
    m.insert("bz", "whois.afilias-grs.info");
    m.insert("ca", "whois.cira.ca");
    m.insert("cd", "whois.nic.cd");
    m.insert("cf", "whois.nic.cf");
    m.insert("ch", "whois.nic.ch");
    m.insert("ci", "whois.nic.ci");
    m.insert("ck", "whois.nic.ck");
    m.insert("cl", "whois.nic.cl");
    m.insert("cm", "whois.netcom.cm");
    m.insert("cn", "whois.cnnic.cn");
    m.insert("cr", "whois.nic.cr");
    m.insert("cu", "whois.nic.cu");
    m.insert("cv", "whois.nic.cv");
    m.insert("cw", "whois.nic.cw");
    m.insert("cx", "whois.nic.cx");
    m.insert("cy", "whois.nic.cy");
    m.insert("cz", "whois.nic.cz");
    m.insert("de", "whois.denic.de");
    m.insert("dj", "whois.nic.dj");
    m.insert("dk", "whois.dk-hostmaster.dk");
    m.insert("dm", "whois.nic.dm");
    m.insert("do", "whois.nic.do");
    m.insert("dz", "whois.nic.dz");
    m.insert("ec", "whois.nic.ec");
    m.insert("ee", "whois.tld.ee");
    m.insert("eg", "whois.nic.eg");
    m.insert("es", "whois.nic.es");
    m.insert("et", "whois.nic.et");
    m.insert("eu", "whois.eu");
    m.insert("fi", "whois.fi");
    m.insert("fj", "whois.nic.fj");
    m.insert("fm", "whois.nic.fm");
    m.insert("fo", "whois.nic.fo");
    m.insert("fr", "whois.nic.fr");
    m.insert("ga", "whois.nic.ga");
    m.insert("gd", "whois.nic.gd");
    m.insert("ge", "whois.nic.ge");
    m.insert("gf", "whois.nic.gf");
    m.insert("gg", "whois.gg");
    m.insert("gh", "whois.nic.gh");
    m.insert("gi", "whois.nic.gi");
    m.insert("gl", "whois.nic.gl");
    m.insert("gm", "whois.nic.gm");
    m.insert("gn", "whois.nic.gn");
    m.insert("gp", "whois.nic.gp");
    m.insert("gq", "whois.nic.gq");
    m.insert("gr", "whois.nic.gr");
    m.insert("gs", "whois.nic.gs");
    m.insert("gt", "whois.nic.gt");
    m.insert("gu", "whois.nic.gu");
    m.insert("gw", "whois.nic.gw");
    m.insert("gy", "whois.registry.gy");
    m.insert("hk", "whois.hkirc.hk");
    m.insert("hm", "whois.registry.hm");
    m.insert("hn", "whois.nic.hn");
    m.insert("hr", "whois.dns.hr");
    m.insert("ht", "whois.nic.ht");
    m.insert("hu", "whois.nic.hu");
    m.insert("id", "whois.id");
    m.insert("ie", "whois.iedr.ie");
    m.insert("il", "whois.isoc.org.il");
    m.insert("im", "whois.nic.im");
    m.insert("in", "whois.registry.in");
    m.insert("iq", "whois.nic.iq");
    m.insert("ir", "whois.nic.ir");
    m.insert("is", "whois.isnic.is");
    m.insert("it", "whois.nic.it");
    m.insert("je", "whois.je");
    m.insert("jm", "whois.nic.jm");
    m.insert("jo", "whois.nic.jo");
    m.insert("jp", "whois.jprs.jp");
    m.insert("ke", "whois.kenic.or.ke");
    m.insert("kg", "whois.kg");
    m.insert("kh", "whois.nic.kh");
    m.insert("ki", "whois.nic.ki");
    m.insert("km", "whois.nic.km");
    m.insert("kn", "whois.nic.kn");
    m.insert("kr", "whois.kr");
    m.insert("kw", "whois.nic.kw");
    m.insert("ky", "whois.kyregistry.ky");
    m.insert("kz", "whois.nic.kz");
    m.insert("la", "whois.nic.la");
    m.insert("lb", "whois.nic.lb");
    m.insert("lc", "whois.nic.lc");
    m.insert("li", "whois.nic.li");
    m.insert("lk", "whois.nic.lk");
    m.insert("lr", "whois.nic.lr");
    m.insert("ls", "whois.nic.ls");
    m.insert("lt", "whois.domreg.lt");
    m.insert("lu", "whois.dns.lu");
    m.insert("lv", "whois.nic.lv");
    m.insert("ly", "whois.nic.ly");
    m.insert("ma", "whois.registre.ma");
    m.insert("mc", "whois.nic.mc");
    m.insert("md", "whois.nic.md");
    m.insert("mg", "whois.nic.mg");
    m.insert("mk", "whois.marnet.mk");
    m.insert("ml", "whois.nic.ml");
    m.insert("mm", "whois.nic.mm");
    m.insert("mn", "whois.nic.mn");
    m.insert("mo", "whois.monic.mo");
    m.insert("mp", "whois.nic.mp");
    m.insert("mq", "whois.nic.mq");
    m.insert("mr", "whois.nic.mr");
    m.insert("ms", "whois.nic.ms");
    m.insert("mt", "whois.nic.mt");
    m.insert("mu", "whois.nic.mu");
    m.insert("mv", "whois.nic.mv");
    m.insert("mw", "whois.nic.mw");
    m.insert("mx", "whois.mx");
    m.insert("my", "whois.mynic.my");
    m.insert("mz", "whois.nic.mz");
    m.insert("na", "whois.na-nic.com.na");
    m.insert("nc", "whois.nc");
    m.insert("nf", "whois.nic.nf");
    m.insert("ng", "whois.nic.net.ng");
    m.insert("ni", "whois.nic.ni");
    m.insert("nl", "whois.domain-registry.nl");
    m.insert("no", "whois.norid.no");
    m.insert("np", "whois.nic.np");
    m.insert("nr", "whois.nic.nr");
    m.insert("nu", "whois.iis.nu");
    m.insert("nz", "whois.srs.net.nz");
    m.insert("om", "whois.nic.om");
    m.insert("pa", "whois.nic.pa");
    m.insert("pe", "whois.nic.pe");
    m.insert("pf", "whois.registry.pf");
    m.insert("pg", "whois.nic.pg");
    m.insert("ph", "whois.nic.ph");
    m.insert("pk", "whois.pknic.net.pk");
    m.insert("pl", "whois.dns.pl");
    m.insert("pm", "whois.nic.pm");
    m.insert("pn", "whois.nic.pn");
    m.insert("pr", "whois.nic.pr");
    m.insert("ps", "whois.nic.ps");
    m.insert("pt", "whois.dns.pt");
    m.insert("pw", "whois.nic.pw");
    m.insert("py", "whois.nic.py");
    m.insert("qa", "whois.registry.qa");
    m.insert("re", "whois.nic.re");
    m.insert("ro", "whois.rotld.ro");
    m.insert("rs", "whois.rnids.rs");
    m.insert("ru", "whois.tcinet.ru");
    m.insert("rw", "whois.nic.rw");
    m.insert("sa", "whois.nic.net.sa");
    m.insert("sb", "whois.nic.sb");
    m.insert("sc", "whois.nic.sc");
    m.insert("sd", "whois.nic.sd");
    m.insert("se", "whois.iis.se");
    m.insert("sg", "whois.sgnic.sg");
    m.insert("sh", "whois.nic.sh");
    m.insert("si", "whois.register.si");
    m.insert("sk", "whois.sk-nic.sk");
    m.insert("sl", "whois.nic.sl");
    m.insert("sm", "whois.nic.sm");
    m.insert("sn", "whois.nic.sn");
    m.insert("so", "whois.nic.so");
    m.insert("sr", "whois.nic.sr");
    m.insert("ss", "whois.nic.ss");
    m.insert("st", "whois.nic.st");
    m.insert("su", "whois.tcinet.ru");
    m.insert("sv", "whois.svnet.sv");
    m.insert("sx", "whois.sx");
    m.insert("sy", "whois.nic.sy");
    m.insert("sz", "whois.nic.sz");
    m.insert("tc", "whois.nic.tc");
    m.insert("td", "whois.nic.td");
    m.insert("tf", "whois.nic.tf");
    m.insert("tg", "whois.nic.tg");
    m.insert("th", "whois.thnic.co.th");
    m.insert("tj", "whois.nic.tj");
    m.insert("tk", "whois.nic.tk");
    m.insert("tl", "whois.nic.tl");
    m.insert("tm", "whois.nic.tm");
    m.insert("tn", "whois.ati.tn");
    m.insert("to", "whois.tonic.to");
    m.insert("tr", "whois.trabis.gov.tr");
    m.insert("tt", "whois.nic.tt");
    m.insert("tv", "tvwhois.verisign-grs.com");
    m.insert("tw", "whois.twnic.net.tw");
    m.insert("tz", "whois.nic.tz");
    m.insert("ua", "whois.ua");
    m.insert("ug", "whois.nic.ug");
    m.insert("uk", "whois.nic.uk");
    m.insert("us", "whois.nic.us");
    m.insert("uy", "whois.nic.org.uy");
    m.insert("uz", "whois.cctld.uz");
    m.insert("vc", "whois.nic.vc");
    m.insert("ve", "whois.nic.ve");
    m.insert("vg", "whois.nic.vg");
    m.insert("vi", "whois.nic.vi");
    m.insert("vn", "whois.nic.vn");
    m.insert("vu", "whois.nic.vu");
    m.insert("wf", "whois.nic.wf");
    m.insert("ws", "whois.website.ws");
    m.insert("ye", "whois.nic.ye");
    m.insert("yt", "whois.nic.yt");
    m.insert("za", "whois.registry.net.za");
    m.insert("zm", "whois.nic.zm");
    m.insert("zw", "whois.nic.zw");

    m
});

pub fn get_whois_server(tld: &str) -> Option<&'static str> {
    WHOIS_SERVERS.get(tld.to_lowercase().as_str()).copied()
}

pub fn get_tld(domain: &str) -> Option<&str> {
    domain.rsplit('.').next()
}
